<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css" integrity="sha512-vKMx8UnXk60zUwyUnUPM3HbQo8QfmNx7+ltw8Pm5zLusl1XIfwcxo8DbWCqMGKaWeNxWA8yrx5v3SaVpMvR3CA==" crossorigin="anonymous" />
    <script src="https://kit.fontawesome.com/938364cfa6.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.js"></script>

    <title>Seguridad</title>

    <style type="text/css">
        .ocultar {
            display: none;
        }
        
        .mostrar {
            display: block;
        }
    </style>

</head>

<body ng-app="simen" ng-controller="controllerapp">

    <header class="headerInicio" style="text-align:left">
        <a href="#" class="menu-bars" id="show-menu" style="text-decoration: none;">
            <i class="fa fa-bars"></i>
        </a>
        <label class="titulo"><strong>
                <h3>SISTEMA DE INCUBACION DE EMPRESAS</h3>
            </strong></label>
        <label for="" style="margin-left: 10%;">Sesión de
            <strong>
                {{usuario}}
                <span ng-if="rol == 1">
                    (Admin)
                </span>
                <span ng-if="rol == 2">
                    (Asesor)
                </span>
                <span ng-if="rol == 3">
                    (Usuario)
                </span>
            </strong>
        </label>

    </header>

    <nav id="nav-menu">
        <ul class="nav-menu-items">
            <div id="navbar-toggle">
                <a href="#" class="menu-bars" id="hide-menu">
                    <i class="fas fa-bars nav-icon"></i>
                </a>
                <a href="/EmpresasIncubadasAsesor.html">
                    <h1>
                        <i class="fas fa-user-tie"></i> SIMEN
                    </h1>
                </a>
            </div>
            <hr>
            <div class="">
                <li class="nav-text"><a href="contrasenas.html"><i class="fas fa-angle-right"></i> Cambiar
                        contraseña</a></li>
                <span ng-if="rol == 3">
                    <li class="nav-text"><a href="RegistroEmpresa.html"><i class="fas fa-angle-right"></i> Registro de
                            empresa</a></li>
                    <li class="nav-text"><a href="EmpresasIncubadasUsuario.html"><i
                                class="fas fa-angle-right"></i>Empresas
                            incubadas</a></li>
                </span>
                <span ng-if="rol == 2">
                    <li class="nav-text"><a href="EmpresasIncubadasAsesor.html"><i
                                class="fas fa-angle-right"></i>Empresas
                            incubadas</a></li>
                    <li class="nav-text"><a href="historialAsesor.html"><i class="fas fa-angle-right"></i> Historial</a>
                    </li>

                </span>
                <span ng-if="rol == 1">
                    <li class="nav-text"><a href="AsignacionAsesores.html"><i class="fas fa-angle-right"></i> Asignación
                            de
                            asesores</a></li>
                    <li class="nav-text"><a href="RegistroAsesor.html"><i class="fas fa-angle-right"></i> Registro de
                            asesor</a></li>
                </span>
                <li class="">
                    <form action="" ng-click="cerrarSesion()">
                        <button class="btn btn-secondary" type="submit" style="margin-left: 15%;">
                            Cerrar sesión
                        </button>
                    </form>
                    </a>
                </li>
            </div>
        </ul>
    </nav>

    <div class="container">

        <div class="row">

            <div class="col-md-4 "></div>
            <div class="col-md-4 " style="text-align:center; ">
                <img class="rounded-circle img-fluid " alt="Logo " src="src/logoIncubadora.png " data-holder-rendered="true " style="width:10rem; height:10rem ">
            </div>
            <div class="col-md-4 ">
            </div>

        </div>

        <div id="msg "></div>
        <!-- 
    <div class="col-md-1">
                <button type="button" class="btn btn-success" disabled style="border-radius: 100%;"><i class="fas fa-user"></i></button>

            </div>
            <div class="col-md-7">
                <input type="password" name="newPassword" ng-model="cambio.newPassword " class="form-control " placeholder="Contraseña nueva " aria-label="Username " aria-describedby="addon-wrapping " id="pass1" required ng-pattern="/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/i">
            </div>
            <div class="input-group-append col-md-2">
                <button id="show_password" class="btn btn-primary" type="button" onclick="mostrarPassword2()"> <span class="fa fa-eye-slash icon2"></span> </button>
            </div>
            <div class="col-md-2">
                <span class="messages" ng-show="miformulario.newPassword.$touched">
                    <span ng-show="miformulario.newPassword.$error.pattern">
                        <i class="fas fa-window-close btn btn-danger"></i>
                    </span>
                <span ng-show="miformulario.newPassword.$valid">
                        <i class="fas fa-check-circle btn btn-success"></i>
                    </span>
                </span>
            </div>
-->

        <!-- Mensajes de Verificación -->
        <div id="error " class="alert alert-danger ocultar " role="alert ">
            Las Contraseñas no coinciden, vuelve a intentar !
        </div>

        <div class="contenedorFormularioInicio row " style="margin-bottom:15%; margin-left: 23%; ">
            <div class="card-header col-md-12 " style="margin-bottom: 3%; ">Cambio de <strong>Contraseña de usuario.
                </strong></div>

            <form id="miformulario" name="miformulario" ng-submit="cambioContrasena()">



                <div class="row">
                    <div class="col-md-11">
                        <div class="form-group row " style="text-align:right; margin-bottom:10%; ">

                            <div class="input-group flex-nowrap col-md-11">
                                <span class="input-group-text " id="addon-wrapping "> <i class="fas fa-key "></i></span>
                                <input type="password" name="oldPassword" class="form-control " placeholder="Ingresa tu contraseña actual " aria-label="Username " aria-describedby="addon-wrapping " id="usuario" required ng-model="cambio.oldPassword">
                                <div class="input-group-append">
                                    <button id="show_password" class="btn btn-primary" type="button" onclick="mostrarPassword()"> <span class="fa fa-eye-slash icon"></span> </button>
                                </div>
                            </div>
                            <div class="col-md-1">

                            </div>

                        </div>


                        <div class="form-group row " style="text-align:right; ">

                            <div class="input-group flex-nowrap col-md-11 ">
                                <span class="input-group-text " id="addon-wrapping "><i class="fas fa-unlock "></i></i> <i
                                        class="fas fa-check "></i></span>
                                <input type="password" name="newPassword" ng-model="cambio.newPassword " class="form-control " placeholder="Contraseña nueva " aria-label="Username " aria-describedby="addon-wrapping " id="pass1" required ng-pattern="/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/i">
                                <div class="input-group-append">
                                    <button id="show_password" class="btn btn-primary" type="button" onclick="mostrarPassword2()"> <span class="fa fa-eye-slash icon2"></span> </button>
                                </div>
                            </div>
                            <div class="col-md-1">

                            </div>
                        </div>



                        <div class="form-group row " style="text-align:right; ">

                            <div class="input-group flex-nowrap col-md-11 ">
                                <span class="input-group-text " id="addon-wrapping "><i class="fas fa-lock "></i> </i> <i
                                        class="fas fa-check-double "></i></span>
                                <input type="password" name="newPassword2" id="pass2" ng-model="cambio.newPassword2" class="form-control " placeholder="Confirma la nueva contraseña " aria-label="Username " aria-describedby="addon-wrapping" required ng-pattern="/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/i">
                                <div class="input-group-append">
                                    <button id="show_password" class="btn btn-primary" type="button" onclick="mostrarPassword3()"> <span class="fa fa-eye-slash icon3"></span> </button>
                                </div>
                            </div>

                            <div class="col-md-1">

                            </div>
                        </div>


                        <button type="button " id="login " class="btn btn-success" ng-disabled="miformulario.$invalid" style="margin-bottom: 15%;"><i class="fas fa-check"></i> Hecho</button>

                    </div>

                    <div class="col-md-1" style=" padding-top:16%;">

                        <span class="messages" ng-show="miformulario.newPassword.$touched">
                                <span ng-show="miformulario.newPassword.$error.pattern">
                                    <i class="fas fa-window-close btn btn-danger"></i>
                                </span>
                        <span ng-show="miformulario.newPassword.$valid">
                                    <i class="fas fa-check-circle btn btn-success"></i>
                                </span>
                        </span>

                        <div style=" color: white;">.</div>

                        <span class="messages" ng-show="miformulario.newPassword2.$touched">
                                <span ng-show="miformulario.newPassword2.$error.pattern">
                                    <i class="fas fa-window-close btn btn-danger"></i>
                                </span>
                        <span ng-show="miformulario.newPassword2.$valid">
                                    <i class="fas fa-check-circle btn btn-success"></i>
                                </span>
                        </span>

                    </div>
                </div>




            </form>
        </div>



    </div>


    <footer style="text-align:center ">
        2021 - Universidad Tecnológica Emiliano Zapata del Estado de Morelos
    </footer>


    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js " integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo " crossorigin="anonymous ">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js " integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49 " crossorigin="anonymous ">
    </script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js " integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy " crossorigin="anonymous ">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.js "></script>

    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.8/angular.min.js "></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.8/angular-route.js "></script>
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11 "></script>
    <script src="js/contrasena.js "></script>

    <script src="js/app.js"></script>

    <script>
        function mostrarPassword() {
            var cambio = document.getElementById("usuario");
            if (cambio.type == "password") {
                cambio.type = "text";
                $('.icon').removeClass('fa fa-eye-slash').addClass('fa fa-eye');
            } else {
                cambio.type = "password";
                $('.icon').removeClass('fa fa-eye').addClass('fa fa-eye-slash');
            }
        }
    </script>
    <script>
        function mostrarPassword2() {
            var cambio = document.getElementById("pass1");
            if (cambio.type == "password") {
                cambio.type = "text";
                $('.icon2').removeClass('fa fa-eye-slash').addClass('fa fa-eye');
            } else {
                cambio.type = "password";
                $('.icon2').removeClass('fa fa-eye').addClass('fa fa-eye-slash');
            }
        }
    </script>
    <script>
        function mostrarPassword3() {
            var cambio = document.getElementById("pass2");
            if (cambio.type == "password") {
                cambio.type = "text";
                $('.icon3').removeClass('fa fa-eye-slash').addClass('fa fa-eye');
            } else {
                cambio.type = "password";
                $('.icon3').removeClass('fa fa-eye').addClass('fa fa-eye-slash');
            }
        }
    </script>

</body>

</html>